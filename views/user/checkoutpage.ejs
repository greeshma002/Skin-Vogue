<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="x-ua-compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="/stylesheets/checkoutpage.css">

  <style>
    
    .navbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background-color: #ff69b4;
            color: #fff;
        }

        .brand {
            font-weight: bold;
            display: flex;
            align-items: center;
        }

        .brand img {
            margin-right: 10px;
            height: 30px;
        }
        .btn-outline-primary {
          margin-right: 20px;
        }
  </style>
</head>
<body>

  <div class="navbar">
    <div class="brand">
        <img src="/assets/img/logo.png" alt="Logo">
        <div><strong>SKINVOGUE</strong></div>
    </div>
   
</div>
 <form action="/order" method="post">
  <section class="h-100 gradient-custom">
    <div class="container py-5">
      <div class="row d-flex justify-content-center my-4">
    <div class="_3efVlV col-md-8">
        <div class="rvsx1l">
            <div class="_3E8aIl gGqMBW">
                <div class="Login">
                    
                    <div class="RiK_Dp d-flex justify-content-start">
                      <h3 class="_2-K-ro">
                          <span class="_3ENQxz"></span>
                      </h3>
                      
                      <div class="_1aULyb ms-3">
                        Login
                        <svg height="10" width="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="_1t8m48">
                          <path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z" stroke="#2974f0"></path>
                        </svg>
                        <div class="_1QFLA6">
                          <span class="npYOZI text-black"><%= username.name %></span>
                          <a  href="/userprofile"><button type="button" class="btn-outline-primary"> Add new Address</button></a>
                        </div>
                      </div>
                      
                       
                    </div>
                   
                </div>
            </div>
        </div>
        <div class="rvsx1l">
            <div class="_3E8aIl gGqMBW">
                <div class="_2uTwDJ">
                    <h3 class="_2-K-ro">
                        <span class="_3ENQxz"></span>
                    </h3>
                    <div class="RiK_Dp ms-3">
                        <div class="_1aULyb">Delivery Address<svg height="10" width="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" class="_1t8m48">
                            <path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z" stroke="#2974f0"></path>
                        </svg></div>
                        
                        <div class="_1QFLA6 ">
                          <% addresses.forEach(address => { %>
                            <div class="_1QFLA6">
                              <label>
                                <input type="radio" id="" name="addressCheckbox" value="<%= address.id %>" required="required">
                              <span>
                                <span class="npYOZI"><%= address.name %></span> <br>
                                <span><%= address.Address %>, <%= address.phone %> <br> <%= address.city %>, <%= address.state %> - <span class="_2dQV-8"><%= address.pin %></span></span>
                              </span>
                              </label>
                              </span>
                            </div>
                        
                          <% }); %>
                          
                </div>
                
            </div>
            </div>
        </div>
        </div>
        <div class="rvsx1l">
          <div class="_3E8aIl gGqMBW">
              <h3 class="_1hUz_t _2-K-ro">
                  <span class="_3ENQxz">3</span>
                  <span class="_1aULyb">Order Summary</span>
              </h3>
            <div class="cQZ0Lf">
                <div class="CCwLCA">
                    <div class="-nohD8">
                        <div class="d-flex align-items-start">
                            <!-- Product Image -->
                            <div class="CXW8mj" style="height: 112px; width: 112px;">
                            </div>
                            <!-- Quantity Controls and Product Details -->
                            <div class="d-flex flex-column justify-content-between ml-3">
                               
                                <!-- Product Details -->
                                <div class="_3fSRat">
                   
                                  <% allProducts.forEach((prod) => { %>
                                    <div class="_2-uG6-">
                                      <div class="_2Kn22P"><%= prod.productName %></div>
                                    </div>
                                    <div class="_3ZS8sw">
                                      <img style="height: 10vh;" src="<%= prod.images[0] %>" alt="<%= prod.productName %> Image" class="img-fluid">
                                    </div>
                                    <span class="_2-ut7f _2xc6hH">â‚¹<%= prod.productPrice %></span>
                                
                                    <!-- Additional product details can be added here -->
                                
                                    <hr>
                                  <% }); %>
                                </div>
                                
                                
                            </div>
                        </div>
                     
                    </div>
                   
                </div>
                
            </div>
      
          </div>
      </div>

            <div class="accordion mb-3" id="paymentAccordion">
            <div class="accordion-item">
                <h2 class="accordion-header" id="upiOptionHeader">
                    <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#upiOptions" aria-expanded="true" aria-controls="upiOptions">
                        Payment Options
                    </button>
                </h2>
                <div id="upiOptions" class="accordion-collapse collapse show" aria-labelledby="upiOptionHeader" data-bs-parent="#paymentAccordion">
                    <div class="accordion-body d-flex flex-column mb-3">
                        <!-- UPI Option Content -->
                        <label for="COD" class="_2Fn-Ln _30jOKh _2KEUG6 _18Z3T6 _3L7Pww">
                            <input type="radio" class="_3DAmyP" name="paymentOption" value="cod" id="COD" required="required">
                        Cash on Delivery </label>
                      <hr>
                      <label for="Wallet" class="_2Fn-Ln _30jOKh _2KEUG6 _18Z3T6 _3L7Pww py-3">
                          <input type="radio" class="_3DAmyP" name="paymentOption" value="wallet" id="Wallet" required="required">
                      Wallet</label>
                      <hr>
                      <label for="Card" class="_2Fn-Ln _30jOKh _2KEUG6 _18Z3T6 _3L7Pww">
                          <input type="radio" class="_3DAmyP" name="paymentOption" value="card" id="Card" required="required">
                      Credit Card </label>
                    </div>
                </div>
            </div>

          </div>
      </div>

      <div class="col-md-4">
        <div class="card mb-4">
          <div class="card-header py-3">
            <h5 class="mb-0">Summary</h5>
          </div>
          <div class="card-body">
            <ul class="list-group list-group-flush">
              <li class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 pb-0">
                Products
                <!-- Display the total price for products -->
                <span>$<%= calculateTotalPrice(cartdata).toFixed(2) %></span>
              </li>
              <li class="list-group-item d-flex justify-content-between align-items-center px-0">
                Shipping
                <span>Free</span>
              </li>
              <li class="list-group-item d-flex justify-content-between align-items-center border-0 px-0 mb-3">
                <div>
                  <strong>Total amount</strong>
                  <strong>
                    <p class="mb-0">(including GST)</p>
                  </strong>
                </div>
                <!-- Display the total amount, including VAT -->
                <span><strong>$<%= calculateTotalPrice(cartdata).toFixed(2) %></strong></span>
              </li>
            </ul>
      
            <button style="background-color: green;" type="submit" class="btn btn-primary btn-lg btn-block">
              Place Order
            </button>


            
          </div>
        </div>
      </div>
    </div>
    </div>
  </section>
</form>
 

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
