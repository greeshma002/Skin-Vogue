<!DOCTYPE html>
<html>

<head>
  <!-- Basic -->
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <!-- Mobile Metas -->
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <!-- Site Metas -->
  <link rel="icon" href="images/favicon.png" type="image/gif" />
  <meta name="keywords" content="" />
  <meta name="description" content="" />
  <meta name="author" content="" />

  <title>SKINVOGUE</title>

  <!-- bootstrap core css -->
  <link rel="stylesheet" type="text/css" href="/stylesheets/bootstrap.css" />
  <!-- font awesome style -->
  <link href="/stylesheets/font-awesome.min.css" rel="stylesheet">
  <!-- Custom styles for this template -->
  <link href="/stylesheets/style.css" rel="stylesheet">
  <!-- responsive style -->
  <link href="/stylesheets/responsive.css" rel="stylesheet">
  <link rel="stylesheet" type="text/css" href="/stylesheets/style.css">

  <style>
    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px;
      background-color: #ff69b4;
      color: #fff;
    }

    .brand {
      font-weight: bold;
      display: flex;
      align-items: center;
    }

    .brand img {
      margin-right: 10px;
      height: 30px;
    }

    .navbar-links {
      display: flex;
      align-items: center;
    }

    /* Add this to your CSS file or style section in the HTML document */



    .brand {
      display: flex;
      align-items: center;
    }

    .brand img {
      margin-right: 10px;
    }

    .search-container {
      display: flex;
      align-items: center;
    }
    .hidden {
 display: none;
}


    input[type="text"] {
      padding: 8px;
      margin-right: 5px;
      border: none;
      border-radius: 5px;
    }

    button {
      padding: 8px 15px;
      border: none;
      border-radius: 5px;
      background-color: lightblue;
      color: white;
      cursor: pointer;
    }
    

    .dropdown {
      position: relative;
      display: inline-block;
    }

    .dropdown-content {
      display: none;
      position: absolute;
      background-color: #f9f9f9;

      z-index: 1;
    }

    .dropdown-content a {
      color: black;
      padding: 12px 16px;
      text-decoration: none;
      display: block;
    }

    .dropdown-content a:hover {
      background-color: #ddd;
    }

    .dropdown:hover .dropdown-content {
      display: block;
    }

    /* Optional: Add some styling for responsiveness */
    @media screen and (max-width: 600px) {
      .navbar {
        flex-direction: column;
        align-items: stretch;
      }

      .search-container {
        margin-top: 10px;
      }
    }
  </style>

</head>

<body>

  <!-- header section strats -->
  <div class="navbar fixed-top">
    <div class="brand">
      <img src="/assets/img/logo.png" alt="Logo">
      <div><strong>SKINVOGUE</strong></div>
    </div>

    <!-- Centered search bar without button -->
    <div class="search-bar">
      <form action="/search" method="get">
        <input id="searchBar" type="text" name="q" placeholder="Search...">
      </form>
    </div>
  </div>




  <div class="navbar-links">


  </div>
  </div>
  <!-- end header section -->

  <!-- shop section -->

  <section class="shop_section layout_padding">
    <div class="container">
      <div class="heading_container heading_center">

        <h2>
          Latest Products
        </h2>
      </div>

      <div  class="row">
        <aside style="margin-top: 25px; " class=" col-md-2">
          <div class="filter-container">
            <label for="priceFilter">Filter by Price:</label>
            <select id="priceFilter" class="form-select" onchange="filterByPrice()">
              <option value="lowToHigh">Low to High</option>
              <option value="highToLow">High to Low</option>
            </select>
          </div>
        
          <div class="filter-container">
            <label for="categoryFilter">Filter by Category:</label>
            <select id="categoryFilter" class="form-select" onchange="filterByCategory()">
              <option value="all">All Categories</option>
              <option value="bodyCare">Body Care</option>
              <option value="skinCare">Skin Care</option>
              <option value="lipCare">Lip Care</option>
            </select>
          </div>
        </aside>
        

        <div class="col-10">
          <div class="row" id="productView">
            <% productData.forEach(product=> { %>
              <div class="col-sm-6 col-md-4 col-lg-3" data-category="<%= product.category %>"  data-price="<%= product.productPrice %>">
               
                <div class="box" style="height: 350px; overflow: hidden;" >
                  <a href="">
                    <div class="img-box">
                      <a href="/detail/<%= product._id %>"><img height="200px" src="<%= product.images[0] %>"
                          alt=""></a>
                    </div>
                    <div  class="detail-box">
                      <h6>
                        <%= product.productName %>
                      </h6>
                      <h6>
                        Price
                        <span>
                          $<%= product.productPrice %>
                        </span>
                      </h6>
                    </div>
                    
                  </a>
                </div>
              </div>
              <% }); %>
          </div>
        </div>
      </div>
      <div class="btn-box">
        <a href="">
          View All Products
        </a>
      </div>
    </div>
  </section>
  <section  class="my-6">
    <div class="pagination flex justify-center gap-4">
      <% if (page > 1) { %>
        <a style="background-color: #ff69b4;  margin-left: 710px;" href="?page=<%= page - 1 %>"
          class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Previous</a>
      <% } %>
  
      <% if (page < maxPage) { %>
        <a style="background-color: #ff69b4; margin-left: 720px;"  href="?page=<%= page + 1 %>"
          class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-700 focus:bg-blue-700 focus:outline-none transition duration-300 ease-in-out">
          Next
        </a>
      <% } %>
    </div>
    <p class="text-gray-900 font-bold items-center text-center "><%= page %> out of <%= maxPage %></p>
  </section>
  
  

  <!-- end shop section -->

  <!-- info section -->
  <section class="info_section layout_padding2">
    <div class="container">
      <div class="row info_form_social_row">
        <div class="col-md-8 col-lg-9">
          <div class="info_form">
            <form action="">
              <input type="email" placeholder="Enter your email">
              <button>
                <i class="fa fa-arrow-right" aria-hidden="true"></i>
              </button>
            </form>
          </div>
        </div>
        <div class="col-md-4 col-lg-3">

          <div class="social_box">
            <a href="">
              <i class="fa fa-facebook" aria-hidden="true"></i>
            </a>
            <a href="">
              <i class="fa fa-twitter" aria-hidden="true"></i>
            </a>
            <a href="">
              <i class="fa fa-linkedin" aria-hidden="true"></i>
            </a>
          </div>
        </div>
      </div>
      <div class="row info_main_row">
        <div class="col-md-6 col-lg-3">
          <div class="info_links">
            <h4>
              Menu
            </h4>
            <div class="info_links_menu">
              <a href="index.ejs">Home</a>
              <a href="about.ejs">About</a>
              <a href="shop.ejs">Shop</a>
              <a href="blog.ejs">Blog</a>
            </div>
          </div>
        </div>
        <div class="col-md-6 col-lg-3">
          <div class="info_insta">
            <h4>
              Instagram
            </h4>
            <div class="insta_box">
              <div class="img-box">
                <img src="/images/aboutimg (1).jpg" alt="">
              </div>
              <p>
                long established fact that a reader
              </p>
            </div>
            <div class="insta_box">
              <div class="img-box">
                <img src="/images/aboutimg (2).jpg" alt="">
              </div>
              <p>
                long established fact that a reader
              </p>
            </div>
          </div>
        </div>
        <div class="col-md-6 col-lg-3">
          <div class="info_detail">
            <h4>
              About Us
            </h4>
            <p class="mb-0">
              Welcome to SKINVOGUE, where radiant beauty meets expert care. At SKINVOGUE, we are dedicated to unlocking
              the secrets to healthier, more vibrant skin, empowering you to embrace your natural beauty with
              confidence.
            </p>
          </div>
        </div>
        <div class="col-md-6 col-lg-3">
          <h4>
            Contact Us
          </h4>
          <div class="info_contact">
            <a href="">
              <i class="fa fa-map-marker" aria-hidden="true"></i>
              <span>
                Delhi
              </span>
            </a>
            <a href="">
              <i class="fa fa-phone" aria-hidden="true"></i>
              <span>
                Call +01 1234567890
              </span>
            </a>
            <a href="">
              <i class="fa fa-envelope"></i>
              <span>
                skinvogue@gmail.com
              </span>
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- end info_section -->


  <!-- footer section -->
  <footer class="footer_section">
    <div class="container">
      <p>
        &copy; <span id="displayYear"></span> All Rights Reserved By
        <a href="https://html.design/">skin vogue private limited</a>
      </p>
    </div>
  </footer>
  <!-- footer section -->
  // shop.js
  <script>

    const searchBarElement = document.getElementById('searchBar');
    const productView = document.getElementById('productView');
    searchBarElement.addEventListener('input', async (e) => {
      const htmlResult = await fetch(`/search?q=${searchBarElement.value}`, { method: "GET" });
      productView.innerHTML = await htmlResult.text();
    })


    function filterByPrice() {
      var sortBy = document.getElementById("priceFilter").value;

      // Grab all the elements of `#productView` and convert its children (each product) into an array.
      const elements = [...document.getElementById('productView').children];

      elements.sort(function (a, b) {
        let priceA = parseInt(a.dataset.price);
        let priceB = parseInt(b.dataset.price);

        if (sortBy === "lowToHigh") {
          return priceA - priceB;
        } else {
          return priceB - priceA;
        }
      });

      // Replace the whole elements of `#productView` with sorted version.
      document.getElementById('productView').replaceChildren(...elements)
    }


    function filterByCategory() {
 var selectedCategory = document.getElementById("categoryFilter").value.toLowerCase().trim();

 const elements = [...document.getElementById('productView').children];

 elements.forEach(function (element) {
   let category = element.dataset.category.toLowerCase().trim();

   if (selectedCategory === "all" || category === selectedCategory) {
     element.classList.remove("hidden");
   } else {
     element.classList.add("hidden");
   }
 });
}





    function updateProductList(products) {
      const productListContainer = document.getElementById("productList");

      // Clear existing products in the list
      productListContainer.innerHTML = "";

      if (products.length === 0) {
        // Display a message if no results are found
        const noResultsMessage = document.createElement("div");
        noResultsMessage.textContent = "No results found.";
        productListContainer.appendChild(noResultsMessage);
      } else {
        // Display each product in the list
        products.forEach(product => {
          const productItem = document.createElement("div");
          productItem.textContent = product.name; // Replace with actual product properties
          productListContainer.appendChild(productItem);
        });
      }
    }
  </script>



  <!-- jQery -->
  <script src="js/jquery-3.4.1.min.js"></script>
  <!-- bootstrap js -->
  <script src="js/bootstrap.js"></script>
  <!-- custom js -->
  <script src="js/custom.js"></script>

</body>

</html>